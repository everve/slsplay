{
  "description": "Create a Meetup",
  "previousRequiredSteps": [],
  "conversation": [
    {
      "description": "Create a valid Meet-Up",
      "request": {
        "httpVerb": "POST",
        "url": "/api/meetups",
        "json": {
          "apiVersion": 1,
          "correlationId": "corr-1",
          "data": {
            "userId": "user1",
            "videoId": "vid1",
            "photoId": "photo1",
            "title": "title1",
            "description": "description1"
          }
        }
      },
      "response": {
        "jsonSchema": "meetup.1",
        "httpCode": 201,
        "jsonPaths": [
          {
            "path": "$.correlationId",
            "expected": "corr-1"
          },
          {
            "path": "$.apiVersion",
            "expected": 1
          },
          {
            "path": "$.data.userId",
            "expected": "user1"
          },
          {
            "path": "$.data.state",
            "expected": "NEW"
          },
          {
            "path": "$.data.videoId",
            "expected": "vid1"
          },
          {
            "path": "$.notpresent"
          }
        ]
      }
    },
    {
      "description": "Create some invitees",
      "request": {
        "httpVerb": "POST",
        "url": "/api/meetups/${0#$.data.meetupId}/invitees",
        "json": {
          "apiVersion": 1,
          "correlationId": "corr-1",
          "data": [
            {
              "userId": "peter@everve.com"
            },
            {
              "userId": "whomeever@wherever.com"
            }
          ]
        }
      },
      "response": {
        "jsonSchema": "meetup.1",
        "httpCode": 201,
        "jsonPaths": [
          {
            "path": "$.correlationId",
            "expected": "corr-1"
          },
          {
            "path": "$.apiVersion",
            "expected": 1
          },
          {
            "path": "$.data[0].version",
            "expected": 1
          },
          {
            "path": "$.data[0].userId",
            "expected": "peter@everve.com"
          },
          {
            "path": "$.data[0].meetupId",
            "expected": "${0#$.data.meetupId}"
          },
          {
            "path": "$.data[0].requestState",
            "expected": "ADDED"
          },
          {
            "path": "$.data[0].reminderRequested",
            "expected": 0
          },
          {
            "path": "$.data[0].rsvpState",
            "expected": "UNKNOWN"
          },
          {
            "path": "$.notpresent"
          }
        ]
      }
    }
  ]
}
